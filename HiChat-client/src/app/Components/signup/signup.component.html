<div class="container">
    <div class="card-panel login-panel">
        <form class="col s12" [formGroup]="signupForm" (ngSubmit)="onSubmit()">
            <h4 class="center-align">Sign up</h4>
            <!-- error message -->
            <div class="row" *ngIf="errors?.summary">
              <p class="error-message">{{ errors.summary }}</p>
            </div>
            <!-- username -->
            <div class="row">
                <div class="input-field col s12">
                    <input 
                          class="validate" 
                          id="username" 
                          type="text" 
                          name="username" 
                          formControlName="username" 
                          required />
                    <label for='username'>Username</label>
                </div>
            </div>
            <!-- username error message -->
            <div class="row" *ngIf="username.invalid && (username.dirty || username.touched)">
              <p class="error-message" *ngIf="username.errors.required">Username is required, please enter your username.</p>
            </div>
            <!-- email -->
            <div class="row">
                <div class="input-field col s12">
                    <input 
                          class="validate" 
                          id="email" 
                          type="email" 
                          name="email" 
                          formControlName="email"
                          required />
                    <label for='email'>Email</label>
                </div>
            </div>
            <!-- email error message -->
            <div class="row" *ngIf="email.invalid && (email.dirty || email.touched)">
              <p class="error-message" *ngIf="email.errors.required">Email is required, please enter your email address.</p>
              <p class="error-message" *ngIf="email.errors.pattern">Not a valid email address, please enter another one.</p>
            </div>
            <!-- password -->
            <div class="row">
                <div class="input-field col s12">
                    <input 
                          class="validate" 
                          id="password" 
                          type="password" 
                          name="password" 
                          formControlName="password" />
                    <label for='password'>Password</label>
                </div>
            </div>
            <!-- password error message -->
            <div class="row" *ngIf="password.invalid && (password.dirty || password.touched)">
              <p class="error-message" *ngIf="password.errors.required">Password is required, please enter your password.</p>
            </div> 
            <!-- confirm password -->
            <div class="row">
                <div class="input-field col s12">
                    <input 
                          id="confirm_password" 
                          type="password" 
                          name="confirm_password" 
                          class="validate" 
                          formControlName="confirm_password" />
                    <label for="confirm_password">Confirm Password</label>
                </div>
            </div>
            <!-- confirm_password error message -->
            <div class="row" *ngIf="confirm_password.dirty || confirm_password.touched">
                <p class="error-message" *ngIf="confirm_password.errors?.required">Confirm password is required, please enter your confirm password.</p>  
                <p class="error-message" *ngIf="!confirm_password.errors && signupForm.hasError('mismatchedPasswords')">Password not matched.</p>
            </div>
            <!-- signup button -->
            <div class="row right-align">
                <button 
                        type="submit"
                        id="signupBtn"
                        [disabled]="!signupForm.valid"
                        class="waves-effect waves-light btn indigo lighten-1">Sign up</button>
            </div>
            <div class="row">
                <p class="right-align"> Already have an account?  <a [routerLink]="['/login']">Login</a></p>
            </div>
        </form>
    </div>
</div>